<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Incentive Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
  
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css">

  <style>
    body {
      background: #f7fafc;
      font-family: "Segoe UI", Arial, sans-serif;
    }
    .sidebar {
      min-height: 100vh;
      background: #212529;
      color: #eee;
    }
    .sidebar .nav-link {
      color: #adb5bd;
      border-radius: 0.3rem;
      margin-bottom: 2px;
      display: flex;
      align-items: center;
    }
    .sidebar .nav-link .bi {
      margin-right: 0.8em;
      font-size: 1.1em;
    }
    .sidebar .nav-link.active,
    .sidebar .nav-link:hover {
      background: #343a40;
      color: #fff;
    }
    .sidebar .sidebar-title {
      font-weight: bold;
      color: #fff;
      font-size: 1.35rem;
      margin-bottom: 1.2rem;
    }
    .card {
      border-radius: 1rem;
    }
    .form-floating > .form-control,
    .form-floating > .form-select {
      border-radius: 0.25rem;
    }
    .main-content {
      padding: 2rem;
    }
    @media (max-width: 768px) {
      .sidebar {
        min-height: unset;
      }
      .main-content {
        padding: 1rem;
      }
    }
	/* Style for active tab: underline only */
.nav-tabs .nav-link.active {
    background-color: transparent !important;
    color: #4a19d2  !important;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    border-bottom: 3px solid #1976d2 !important; /* underline effect */
}

/* Optional: Inactive tabs */
.nav-tabs .nav-link {
    background-color: transparent !important;
    color: #1976d2 !important;
    border: none !important;
    outline: none !important;
}
  </style>
  <!-- Guardian Style -->
  <style>
    .gradient-card {
      background: linear-gradient(120deg, #7c3aed 60%, #9461ff 100%);
      color: #fff;
      border-radius: 8px;
      margin-bottom: 24px;
      border: none;
      padding: 28px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 2rem;
      position: relative;
      cursor: pointer;
    }
    .type-label {
      font-size: 2.0rem;
      font-weight: 500;
      margin-right: 30px;
      letter-spacing: 0.05em;
    }
    .slab-tag {
      background: rgba(55, 41, 116, 0.25);
      border-radius: 6px;
      color: #fff;
      font-size: 1.1rem;
      padding: 3px 16px;
      margin-left: 8px;
      font-weight: 400;
      display: inline-block;
    }
    .dropdown-arrow {
      font-size: 2rem;
      color: #fff;
      opacity: 0.85;
      transition: transform 0.3s;
    }
    .accordion-button:not(.collapsed) .dropdown-arrow {
      transform: rotate(180deg);
    }
    .accordion-button {
     
      box-shadow: none;
      border: none;
      padding: 0;
    }
    .accordion-item {
      border: none;
      background: none;
    }
    .accordion-collapse {
      border-radius: 0 0 8px 8px;
    }
    .vcs-e-title {
      font-size: 2.4rem;
      color: #3753eb;
      font-weight: 500;
      font-family: sans-serif;
      margin-bottom: 0;
      letter-spacing: 0.02em;
    }
    .dotted-line {
      border-bottom: 2px dotted #c3c3c3;
      width: 10em;
      margin-bottom: 24px;
      margin-top: 8px;
    }
    @media(max-width: 450px){
      .type-label,
      .gradient-card {
        font-size: 1.2rem;
        padding: 18px 10px;
      }
    }
  </style>
 <!-- For tile Style -->
 <style>
 
    .employee-tile {
	  background: #f8f9fa; /* light embossed look */
	  border-radius: 12px;
	  box-shadow: inset 2px 2px 5px rgba(0,0,0,0.1),
	  inset -2px -2px 5px rgba(255,255,255,0.7),
	  0 2px 6px rgba(0,0,0,0.1); /* soft outer shadow */
	  transition: all 0.3s ease;
	  cursor: pointer;
	}

.employee-tile:hover {
		transform: translateY(-4px); /* lift up */
		box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1),
		inset -1px -1px 3px rgba(255,255,255,0.6),
		0 6px 15px rgba(0,0,0,0.15); /* deeper shadow */
		background: linear-gradient(145deg, #ffffff, #f0f0f0); /* slight gradient */
	}
    .employee-name {
      font-weight: bold;
      font-size: 1.1rem;
    }
    .employee-role {
      font-size: 0.9rem;
      color: #6c757d;
    }
  </style>
<!-- excel icon -->
<Style>
.excel-icon {
    display: inline-block;
    padding: 8px;
    border-radius: 8px;
    background: #f8f9fa;
    box-shadow: inset 2px 2px 5px rgba(0,0,0,0.08),
                inset -2px -2px 5px rgba(255,255,255,0.7),
                0 2px 6px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    cursor: pointer;
    text-decoration: none;
}

.excel-icon:hover {
    transform: translateY(-2px);
    box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1),
                inset -1px -1px 3px rgba(255,255,255,0.6),
                0 6px 15px rgba(0,0,0,0.15);
    background: linear-gradient(145deg, #ffffff, #e6f4ea);
}
</Style>
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <nav class="col-md-3 col-lg-2 d-md-block sidebar p-3">
        <div class="sidebar-title mb-4">
          <i class=""></i> Incentive
        </div>
        <div class="accordion" id="sidebarAccordion">
          <!-- Masters Accordion -->
          
          <!-- Settings Accordion -->
          
        </div>
        <ul class="nav flex-column mt-3 mb-auto">
          <li>
            <a href="#" class="nav-link" data-content="dashboard"
              ><i class="bi bi-house"></i> Dashboard</a>
          </li>
		  <li>
            <a href="#" class="nav-link" data-content="master"
              ><i class="bi bi-diagram-3 me-2"></i> Master</a>
          </li>
		  <li>
            <a href="#" class="nav-link" data-content="settings"
              ><i class="bi bi-gear me-2"></i> Settings</a>
          </li>
		  <li>
            <a href="#" class="nav-link" data-content="mail"
              ><i class="bi bi-envelope"></i>Mail Settings</a>
          </li>
         
          <li>
            <a href="#" class="nav-link" data-content="mapping"
              ><i class="bi bi-link-45deg"></i> Mapping</a>
          </li>
         
		  <li>
            <a href="#" class="nav-link" data-content="datasync"
              ><i class="bi bi-arrow-repeat"></i> Data Sync</a>
          </li>
          <li>
            <a href="#" class="nav-link" data-content="review"
              ><i class="bi bi-clipboard-data"></i> Review</a>
          </li>
		  <li>
            <a href="#" class="nav-link" data-content="process"
              ><i class="bi bi-activity"></i> Process</a>
          </li>
          <li>
            <a href="#" class="nav-link" data-content="reports"
              ><i class="bi bi-graph-up"></i> Reports</a>
          </li>
        </ul>
        <div class="mt-4 ms-1" style="font-size: 0.9em; color: #6c757d">
          User: <i class="bi bi-person-circle"></i> Admin
        </div>
      </nav>
      <!-- Main Content -->
      <main class="col-md-9 ms-sm-auto col-lg-10 main-content">
        <div class="card shadow mb-4">
          <div class="card-body">
            <h3 class="mb-2" id="contentTitle">Incentive Mockup</h3>
            <div id="dynamicContent">
             
            </div>
          </div>
        </div>
      </main>
    </div>
   </div>
  <script>
   
   
   
   const mastersTabsContent = `
      <ul class="nav nav-tabs mb-3" id="mastersTabs" role="tablist">
        
        <li class="nav-item" role="presentation">
		  <!-- <button class="nav-link active" id="policy-tab" data-bs-toggle="tab" data-bs-target="#policy" type="button" role="tab">Policy Master</button> -->
          <button class="nav-link active" id="kra-tab" data-bs-toggle="tab" data-bs-target="#kra" type="button" role="tab">KRA Master</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="document-tab" data-bs-toggle="tab" data-bs-target="#document" type="button" role="tab">Document Upload</button>
        </li>
      </ul>
      <div class="tab-content" id="mastersTabContent">
        
        <div class="tab-pane fade show active" id="kra" role="tabpanel">
  <form class="row g-3 mb-4">
    <div class="col-md-6">
      <label class="form-label">KRA Description</label>
      <input type="text" class="form-control" placeholder="Enter KRA" />
    </div>
    <div class="col-12">
      <button class="btn btn-primary">Add KRA</button>
    </div>
  </form>

  <table id="kraTable" class="table table-hover align-middle table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>KRA Title</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>Sales Growth</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
    <i class="bi bi-pencil-square"></i>
  </button>
  <button class="btn btn-sm btn-outline-danger me-1" title="Delete">
    <i class="bi bi-trash"></i>
  </button>
  <button class="btn btn-sm btn-outline-info" title="History">
    <i class="bi bi-clock-history"></i>
  </button>
        </td>
      </tr>
      <tr>
        <td>2</td>
        <td>Customer Retention</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
    <i class="bi bi-pencil-square"></i>
  </button>
  <button class="btn btn-sm btn-outline-danger me-1" title="Delete">
    <i class="bi bi-trash"></i>
  </button>
  <button class="btn btn-sm btn-outline-info" title="History">
    <i class="bi bi-clock-history"></i>
  </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
        <div class="tab-pane fade" id="document" role="tabpanel">
  <form class="row g-3 mb-4">
    <!-- Department Dropdown -->
    <div class="col-md-4">
      <label class="form-label">Select Department</label>
      <select class="form-select">
        <option selected disabled>Choose Department</option>
        <option value="sales">Sales</option>
        <option value="marketing">Marketing</option>
        <option value="hr">HR</option>
        <option value="finance">Finance</option>
      </select>
    </div>

    <!-- File Upload -->
    <div class="col-md-4">
      <label class="form-label">Upload Document</label>
      <input type="file" class="form-control" />
    </div>

    <!-- Upload Button -->
    <div class="col-md-4 align-self-end">
      <button class="btn btn-primary mt-2">Upload</button>
	  <button type="button" class="btn btn-sm btn-info position-relative" data-bs-toggle="popover" data-bs-html="true" title="Upload Notes" data-bs-content="
    <ul class='mb-0'>
      <li><b>Only PDF files are allowed.</b></li>
      <li><b>Maximum upload size is 5 MB.</b></li>
    </ul>
  ">
    <i class="bi bi-info-circle"></i> 
  </button>
    </div>
  </form>

  <!-- Document Table -->
  <table id="documentTable" class="table table-hover align-middle table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Department</th>
      <th>Document Name</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>HR</td>
      <td>Appraisal.pdf</td>
      <td class="text-center">
        <button class="btn btn-sm btn-outline-danger me-1" title="Delete">
          <i class="bi bi-trash"></i>
        </button>
      </td>
    </tr>
    <tr>
      <td>2</td>
      <td>Finance</td>
      <td>Contract.pdf</td>
      <td class="text-center">
        <button class="btn btn-sm btn-outline-danger me-1" title="Delete">
          <i class="bi bi-trash"></i>
        </button>
      </td>
    </tr>
  </tbody>
</table>
</div>
      </div>
    `;

    const settingsTabsContent = `
     <!-- Top-level Tabs -->
<ul class="nav nav-tabs" id="settingsParentTabs" role="tablist">
<li class="nav-item" role="presentation">
    <button class="nav-link active" id="general-parent" data-bs-toggle="tab" data-bs-target="#general-group" type="button" role="tab">General Settings</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link " id="marketing-parent" data-bs-toggle="tab" data-bs-target="#marketing-group" type="button" role="tab">Marketing Settings</button>
  </li>
  
   
</ul>

<!-- Second-level Tabs -->
<div class="tab-content mt-2">
  
  <!-- Marketing Settings -->
  <div class="container py-4 tab-pane fade " id="marketing-group" role="tabpanel">
    <div class="accordion" id="vcsAccordion1">
      <!-- Type 1 -->
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button gradient-card collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#policyrolesetting" aria-expanded="false" aria-controls="policyrolesetting">
              
              <span class="slab-tag">Policy Role Settings</span>
          </button>
        </h2>
        <div id="policyrolesetting" class="accordion-collapse collapse" data-bs-parent="#vcsAccordion1">
  <div class="card card-body">
    <form class="row g-3 mb-4">
      
      <!-- Role Dropdown -->
      <div class="col-md-4">
        <label class="form-label">Select Role</label>
        <select class="form-select">
          <option selected disabled>Choose Role</option>
          <option value="bd">BD</option>
          <option value="tl">TL</option>
          <option value="cse">CSE</option>
          <option value="manager">Manager</option>
        </select>
      </div>

      <!-- Description -->
      <div class="col-md-4">
        <label for="recurring_description" class="form-label">Description</label>
        <input type="text" class="form-control" id="recurring_description" maxlength="250" placeholder="Enter description">
      </div>

      <!-- Eligible Days -->
      <div class="col-md-4">
        <label for="recurring_eligible_days" class="form-label">Eligible Days</label>
        <input type="number" class="form-control" id="recurring_eligible_days" placeholder="Enter days">
      </div>

      <!-- Percentage -->
      <div class="col-md-4">
        <label for="recurring_percentage" class="form-label">Percentage</label>
        <input type="number" class="form-control" id="recurring_percentage" placeholder="Enter %">
      </div>

      <!-- Save Button -->
      <div class="col-12 text-end">
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-save"></i> Save
        </button>
      </div>

    </form>
  </div>
</div>

      </div>

      <!-- Type 2 -->
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button gradient-card collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#processevaluatesetting" aria-expanded="false" aria-controls="processevaluatesetting">
              <span class="slab-tag">Process and Evaluation period</span>
          </button>
        </h2>
        <div id="processevaluatesetting" class="accordion-collapse collapse" data-bs-parent="#vcsAccordion1">
          <div class="card card-body">
             <form class="row g-3 mb-4">
      
      <!-- Performance Dropdown -->
      <div class="col-md-4">
        <label class="form-label">Performance Duration</label>
        <select class="form-select">
          <option selected disabled>Choose Duration</option>
          <option value="bd">2 Months</option>
          <option value="tl">4 Months</option>
          <option value="cse">6 Months</option>
          <option value="manager">12 Months</option>
        </select>
      </div>
		<!-- Processing Intravel Dropdown -->
      <div class="col-md-4">
        <label class="form-label">Processing Intravel</label>
        <select class="form-select">
          <option selected disabled>Choose Intravel</option>
          <option value="bd">1 Months</option>
          <option value="tl">2 Months</option>
          <option value="cse">3 Months</option>
          <option value="manager">4 Months</option>
        </select>
      </div>
	  
	  <!-- Processing Dropdown -->
      <div class="col-md-4">
        <label class="form-label">Processing Duration</label>
        <select class="form-select">
          <option selected disabled>Choose Duration</option>
		  <option value="bd">2 Months</option>
          <option value="tl">3 Months</option>
          <option value="cse">6 Months</option>
          <option value="manager">12 Months</option>
          
        </select>
      </div>
       

      <!-- Save Button -->
      <div class="col-12 text-end">
        <button type="submit" class="btn btn-primary">
          <i class="bi bi-save"></i> Save
        </button>
      </div>

    </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container py-4 tab-pane fade show active" id="general-group">
  <div class="accordion" id="vcsAccordion">

    <!-- Type 1: FY EBITDA -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingFyEbitda">
        <button class="accordion-button gradient-card collapsed" type="button" 
                data-bs-toggle="collapse" data-bs-target="#fyebitda" 
                aria-expanded="false" aria-controls="fyebitda">
          <span class="slab-tag">FY EBITDA</span>
        </button>
      </h2>
      <div id="fyebitda" class="accordion-collapse collapse" 
           aria-labelledby="headingFyEbitda" data-bs-parent="#vcsAccordion">
        <div class="card card-body">
          <form class="row g-3" name="fyEbitdaForm">
            <div class="col-md-4">
              <label for="fy_ebitda_select" class="form-label">Financial Year</label>
              <select id="fy_ebitda_select" class="form-select" name="financial_year">
                <option selected disabled>Choose FY</option>
                <option value="2024-2025">FY 2024-2025</option>
                <option value="2025-2026">FY 2025-2026</option>
              </select>
            </div>
            <div class="col-md-4">
              <label for="ebitda_amount_fy" class="form-label">EBITDA Amount</label>
              <input type="number" class="form-control" id="ebitda_amount_fy" 
                     name="ebitda_amount" maxlength="12" placeholder="Enter EBITDA">
            </div>
            <div class="col-12 text-end">
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-save me-1"></i> Save
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Type 2: Department-wise EBITDA -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingDepEbitda">
        <button class="accordion-button gradient-card collapsed" type="button" 
                data-bs-toggle="collapse" data-bs-target="#depebitda" 
                aria-expanded="false" aria-controls="depebitda">
          <span class="slab-tag">Department-wise EBITDA</span>
        </button>
      </h2>
      <div id="depebitda" class="accordion-collapse collapse" 
           aria-labelledby="headingDepEbitda" data-bs-parent="#vcsAccordion">
        <div class="card card-body">
          <form class="row g-3" name="depEbitdaForm">
            <div class="col-md-4">
              <label for="dep_ebitda_select" class="form-label">Financial Year</label>
              <select id="dep_ebitda_select" class="form-select" name="financial_year">
                <option selected disabled>Choose FY</option>
                <option value="2024-2025">FY 2024-2025</option>
                <option value="2025-2026">FY 2025-2026</option>
              </select>
            </div>
            <div class="col-md-4">
              <label for="ebitda_amount_dep" class="form-label">EBITDA Amount</label>
              <input type="number" class="form-control" id="ebitda_amount_dep" 
                     name="ebitda_amount" maxlength="12" placeholder="Enter EBITDA">
            </div>
            <div class="form-check form-switch col-md-4">
              <input class="form-check-input" type="checkbox" id="enableautocalculate_dep">
              <label class="form-check-label" for="enableautocalculate_dep">
                Auto calculation
              </label>
            </div>
            <div class="col-12 text-end">
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-save me-1"></i> Save
              </button>
            </div>
            <div class="col-12 mt-3">
              <table id="depEbitdaTable" class="table table-hover align-middle table-bordered table-striped">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Department</th>
                    <th>Percentage</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>IT SW</td>
                    <td>20%</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
                        <i class="bi bi-pencil-square"></i>
                      </button>
                      <button class="btn btn-sm btn-outline-info" title="History">
                        <i class="bi bi-clock-history"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>IT QA</td>
                    <td>15%</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
                        <i class="bi bi-pencil-square"></i>
                      </button>
                      <button class="btn btn-sm btn-outline-info" title="History">
                        <i class="bi bi-clock-history"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Type 3: Review Period -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingReviewPeriod">
        <button class="accordion-button gradient-card collapsed" type="button" 
                data-bs-toggle="collapse" data-bs-target="#reviewperiod" 
                aria-expanded="false" aria-controls="reviewperiod">
          <span class="slab-tag">Review Period</span>
        </button>
      </h2>
      <div id="reviewperiod" class="accordion-collapse collapse" 
           aria-labelledby="headingReviewPeriod" data-bs-parent="#vcsAccordion">
        <div class="card card-body">
          <form class="row g-3" name="reviewPeriodForm">
            <div class="col-md-4">
              <label for="review_department" class="form-label">Choose Department</label>
              <select id="review_department" class="form-select" name="department">
                <option value="" disabled selected>Choose Department</option>
                <option value="all">ALL</option>
                <option value="it">IT</option>
                <option value="hr">Operation</option>
                <option value="finance">Finance</option>
              </select>
            </div>
            <div class="col-md-4">
              <label class="form-label">Select Date Range</label>
              <div class="input-group">
                <input type="date" id="fromDate" class="form-control" name="from_date">
                <span class="input-group-text">to</span>
                <input type="date" id="toDate" class="form-control" name="to_date">
              </div>
            </div>
            <div class="col-12 text-end">
              <button type="submit" class="btn btn-primary">
                <i class="bi bi-save me-1"></i> Save
              </button>
            </div>
            <div class="col-12 mt-3">
              <table id="reviewPeriodTable" class="table table-hover align-middle table-bordered table-striped">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Department</th>
                    <th>Review month</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>All</td>
                    <td>Jan-Feb</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
                        <i class="bi bi-pencil-square"></i>
                      </button>
                      <button class="btn btn-sm btn-outline-danger me-1" title="Delete">
                        <i class="bi bi-trash"></i>
                      </button>
                      <button class="btn btn-sm btn-outline-info" title="History">
                        <i class="bi bi-clock-history"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>Finance</td>
                    <td>Mar-May</td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
                        <i class="bi bi-pencil-square"></i>
                      </button>
                      <button class="btn btn-sm btn-outline-danger me-1" title="Delete">
                        <i class="bi bi-trash"></i>
                      </button>
                      <button class="btn btn-sm btn-outline-info" title="History">
                        <i class="bi bi-clock-history"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </form>
        </div>
      </div>
    </div>

   <!-- Type 4: Excluded Departments -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingExcludeDept">
    <button class="accordion-button gradient-card collapsed" type="button" 
            data-bs-toggle="collapse" data-bs-target="#excludeDept" 
            aria-expanded="false" aria-controls="excludeDept">
      <span class="slab-tag">Excluded Departments</span>
    </button>
  </h2>
  <div id="excludeDept" class="accordion-collapse collapse" 
       aria-labelledby="headingExcludeDept" data-bs-parent="#vcsAccordion">
    <div class="card card-body">
      <form class="row g-3 mb-4" name="excludeDeptForm">
        <div class="col-md-4">
          <label for="exclude_department" class="form-label">Choose Department</label>
          <select id="exclude_department" class="form-select" name="department">
            <option value="" disabled selected>Choose Department</option>
            <option value="all">ALL</option>
            <option value="it">IT</option>
            <option value="hr">Operation</option>
            <option value="finance">Finance</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="exclude_year" class="form-label text-muted">FY Year</label>
          <input class="form-control" id="exclude_year" placeholder="2025" disabled>
        </div>
        <div class="col-12 text-end">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-save me-1"></i> Save
          </button>
        </div>
        <div class="col-12 mt-3">
          <table id="excludeDeptTable" class="table table-hover align-middle table-bordered table-striped">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Department</th>
                <th>Exclude Year</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>ECS</td>
                <td>2025</td>
                <td>
                  <button class="btn btn-sm btn-outline-danger" title="Delete">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>PCS</td>
                <td>2025</td>
                <td>
                  <button class="btn btn-sm btn-outline-danger" title="Delete">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Type 5: On-Hold Employees -->
<div class="accordion-item">
  <h2 class="accordion-header" id="headingHoldEmp">
    <button class="accordion-button gradient-card collapsed" type="button" 
            data-bs-toggle="collapse" data-bs-target="#holdEmployee" 
            aria-expanded="false" aria-controls="holdEmployee">
      <span class="slab-tag">On-Hold Employees</span>
    </button>
  </h2>
  <div id="holdEmployee" class="accordion-collapse collapse" 
       aria-labelledby="headingHoldEmp" data-bs-parent="#vcsAccordion">
    <div class="card card-body">
      <form class="row g-3 mb-4" name="holdEmpForm">
        <div class="col-md-4">
          <label for="hold_department" class="form-label">Choose Department</label>
          <select id="hold_department" class="form-select" name="department">
            <option value="" disabled selected>Choose Department</option>
            <option value="it">IT</option>
            <option value="hr">Operation</option>
            <option value="finance">Finance</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="hold_employee" class="form-label">Choose Employee</label>
          <select id="hold_employee" class="form-select" name="employee">
            <option value="" disabled selected>Choose Employee</option>
            <option value="AS123-Ravi">AS123-Ravi</option>
            <option value="AS432-RajaRajan">AS432-RajaRajan</option>
            <option value="AS932-Raman">AS932-Raman</option>
          </select>
        </div>
        <div class="col-md-4">
          <label for="hold_year" class="form-label text-muted">FY Year</label>
          <input class="form-control" id="hold_year" placeholder="2025" disabled>
        </div>
        <div class="col-12 text-end">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-save me-1"></i> Save
          </button>
        </div>
        <div class="col-12 mt-3">
          <table id="holdEmpTable" class="table table-hover align-middle table-bordered table-striped">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Department</th>
                <th>Employee</th>
                <th>Year</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>ECS</td>
                <td>3290-Saravana</td>
                <td>2025</td>
                <td>
                  <button class="btn btn-sm btn-outline-danger" title="Delete">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>2</td>
                <td>PCS</td>
                <td>7840-Priya</td>
                <td>2025</td>
                <td>
                  <button class="btn btn-sm btn-outline-danger" title="Delete">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
              <tr>
                <td>3</td>
                <td>IT</td>
                <td>AS090-Kamal</td>
                <td>2024</td>
                <td>
                  <button class="btn btn-sm btn-outline-danger" title="Delete" disabled>
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </form>
    </div>
  </div>
</div>
  </div>
</div>
</div>
    `;

// Mapping tabs content
const mappingTabsContent = `
<ul class="nav nav-tabs mb-3" id="mappingTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="kra-allocation-tab" data-bs-toggle="tab" data-bs-target="#kra-allocation" type="button">KRA Allocation</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="kra-mapping-tab" data-bs-toggle="tab" data-bs-target="#kra-mapping" type="button">KRA Mapping</button>
  </li>
 
</ul>
<div class="tab-content" id="mappingTabsContent">
<div class="tab-pane fade show active" id="kra-allocation" role="tabpanel" aria-labelledby="kra-allocation-tab" tabindex="0">
  <form class="row g-3 mb-4 align-items-end">
    
    <!-- Select Department -->
    <div class="col-md-6">
      <label for="departmentSelect" class="form-label small text-muted">Select Department</label>
      <select id="departmentSelect" class="form-select form-select-sm" aria-label="Select Department">
        <option selected disabled>Choose Department</option>
        <option>IT-Tech</option>
        <option>IT-QC</option>
        <option>L-HR</option>
        <option>L-Fin</option>
      </select>
    </div>
    
    <!-- Select Role -->
    <div class="col-md-6">
      <label for="roleSelect" class="form-label small text-muted">Select Role</label>
      <select id="roleSelect" class="form-select form-select-sm" aria-label="Select Role">
        <option selected disabled>Choose Role</option>
        <option value="1">Programmer</option>
        <option value="2">Sr.Programmer</option>
        <option value="3">Jr.Programmer</option>
      </select>
    </div>
    
    <!-- KRA Description -->
   <div class="col-md-12">
      <label for="DescriptionSelect" class="form-label small text-muted"> Description and Target/Weightage</label>
      <select id="DescriptionSelect" class="form-select form-select-sm" aria-label="Select Description">
        <option selected disabled>Choose KRA Description</option>
        <option value="1">KRA for Tech team</option>   
		<option value="2">Daily commit the source code in GIT</option>   
		<option value="3">Maintain the codeing standard</option>   		
      </select>
    </div>
    
    <!-- Target/Weightage and Unit dropdown inline -->
    <div class="col-md-6 d-flex align-items-end gap-2">
      <input type="text" id="targetWeightage" class="form-control form-control-sm" placeholder="Enter Target / Weightage here" aria-describedby="targetWeightageError" />
      <select id="targetWeightageUnit" class="form-select form-select-sm" aria-label="Select Unit" style="max-width: 120px;">
        <option value="Percentage">Percentage</option>
        <option value="Days">Days</option>
      </select>
    </div>
    
    <!-- Save button aligned bottom right -->
    <div class="col-md-6 d-flex justify-content-end align-items-end">
      <button type="submit" class="btn btn-primary btn-sm px-4">Add KRA</button>
    </div>
    
  </form>

  <!-- Sample Data Grid Table -->
  <table id="kraTable" class="table table-hover align-middle table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>KRA Title</th>
        <th>Department</th>
        <th>Role</th>
        <th>Target Weightage</th>
        <th>Unit</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>Properly log hours in JIRA</td>
        <td>IT-Tech</td>
        <td>Programmer</td>
        <td>>14</td>
        <td>Percentage</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit"><i class="bi bi-pencil-square"></i></button>
          <button class="btn btn-sm btn-outline-danger me-1" title="Delete"><i class="bi bi-trash"></i></button>
		        <button class="btn btn-sm btn-outline-info" title="History">
        <i class="bi bi-clock-history"></i>
      </button>

        </td>
      </tr>
	  <tr>
        <td>2</td>
        <td>skills upgraded in frequently</td>
        <td>IT-Tech</td>
        <td>Programmer</td>
        <td>>25</td>
        <td>Percentage</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit"><i class="bi bi-pencil-square"></i></button>
          <button class="btn btn-sm btn-outline-danger me-1" title="Delete"><i class="bi bi-trash"></i></button>
		        <button class="btn btn-sm btn-outline-info" title="History">
        <i class="bi bi-clock-history"></i>
      </button>

        </td>
      </tr>
	  <tr>
        <td>3</td>
        <td>Maintain the codeing standard</td>
        <td>IT-Tech</td>
        <td>Programmer</td>
        <td>>40</td>
        <td>Percentage</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit"><i class="bi bi-pencil-square"></i></button>
          <button class="btn btn-sm btn-outline-danger me-1" title="Delete"><i class="bi bi-trash"></i></button>
		        <button class="btn btn-sm btn-outline-info" title="History">
        <i class="bi bi-clock-history"></i>
      </button>

        </td>
      </tr>
      <tr>
        <td>4</td>
        <td>skills upgraded in frequently</td>
        <td>IT-Tech</td>
        <td>Sr.Programmer</td>
        <td>>30</td>
        <td>Percentage</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit"><i class="bi bi-pencil-square"></i></button>
          <button class="btn btn-sm btn-outline-danger me-1" title="Delete"><i class="bi bi-trash"></i></button>
		        <button class="btn btn-sm btn-outline-info" title="History">
        <i class="bi bi-clock-history"></i>
      </button>

        </td>
      </tr>
	  <tr>
        <td>5</td>
        <td>Maintain the codeing standard</td>
        <td>IT-Tech</td>
        <td>Jr.Programmer</td>
        <td>>20</td>
        <td>Percentage</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-1" title="Edit"><i class="bi bi-pencil-square"></i></button>
          <button class="btn btn-sm btn-outline-danger me-1" title="Delete"><i class="bi bi-trash"></i></button>
		        <button class="btn btn-sm btn-outline-info" title="History">
        <i class="bi bi-clock-history"></i>
      </button>

        </td>
      </tr>
    </tbody>
  </table>
  </div>

  <div class="tab-pane fade" id="kra-mapping" role="tabpanel" aria-labelledby="kra-mapping-tab" tabindex="0">
    <form class="row g-3 mb-4 align-items-end">
    <!-- Select Department -->
    <div class="col-md-4">
      <label for="departmentSelect" class="form-label small text-muted">Select Department</label>
      <select id="departmentSelect" class="form-select form-select-sm" aria-label="Select Department">
        <option selected disabled>Choose Department</option>
        <option>Sales</option>
        <option>Marketing</option>
        <option>HR</option>
        <option>Finance</option>
      </select>
    </div>
    
    <!-- Select Role -->
    <div class="col-md-4">
      <label for="roleSelect" class="form-label small text-muted">Select Role</label>
      <select id="roleSelect" class="form-select form-select-sm" aria-label="Select Role">
        <option selected disabled>Choose Role</option>
        <option value="1">Manager</option>
        <option value="2">Senior</option>
        <option value="3">Junior</option>
      </select>
    </div>
    
    <!-- Employee -->
   <div class="col-md-4">
      <label for="Employee" class="form-label small text-muted"> Employee</label>
      <select id="employees" class="form-select form-select-sm" aria-label="Select Employee">
        <option selected disabled>Choose Employee</option>
        <option value="1">AS149-Mani</option>       
		<option value="2">AS908-Mala</option>       
		<option value="3">AS875-Bala</option>       
		<option value="4">AS343-Arun</option>  		
      </select>
    </div>    
    

  <!-- Sample Data Grid Table -->
  <table id="kraTable" class="table table-hover align-middle table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
		<th> select</th>
        <th>KRA Title</th>        
        <th>Weightage</th>
        <th>Combine</th>
        
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
		<td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="checkIn1" checked />
      </div></td>
        <td>Properly log hours in JIRA >14 percentage</td>
        <td>
            <input type="text" class="form-control form-control-sm" value="50">
        </td>
        <td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="check1" />
      </div></td>
       
      </tr>
      <tr>
        <td>2</td>
		<td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="checkIn2" checked />
      </div></td>
        <td>skills upgraded in frequently >25 percentage</td>
        <td>
            <input type="text" class="form-control form-control-sm" value="50">
        </td>
        <td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="check2" />
      </div></td>
       
      </tr>
	  <tr>
        <td>3</td>
		<td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="checkIn3" checked />
      </div></td>
        <td>Maintain the codeing standard >40 percentage</td>
        <td>
            <input type="text" class="form-control form-control-sm" value="50">
        </td>
        <td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="check1" />
      </div></td>
       
      </tr>
      <tr>
        <td>4</td>
		<td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="checkIn3" checked/>
      </div></td>
        <td>Complainces Source</td>
        <td>
            <input type="text" class="form-control form-control-sm" value="50">
        </td>
        <td><div class="form-check">
        <input class="form-check-input" type="checkbox" id="check2" />
      </div></td>
       
      </tr>
    </tbody>
  </table>
  
    <!-- Save button aligned bottom right -->
    <div class="col-md-12 d-flex justify-content-end align-items-end">
      <button type="submit" class="btn btn-primary">
                <i class="bi bi-save me-1"></i> Save
              </button>
    </div>
    
  </form>
  
  </div>
</div> 

`;


// Datasync tabs content
const datasync = `
<ul class="nav nav-tabs mb-3" id="mappingTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="bi-tab" data-bs-toggle="tab" data-bs-target="#bi-sync" type="button">BI Sync</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="cmm-tab" data-bs-toggle="tab" data-bs-target="#cmm-sync" type="button">CMM Sync</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="collect-tab" data-bs-toggle="tab" data-bs-target="#collect-sync" type="button">Buddy Collect Sync</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="remo-tab" data-bs-toggle="tab" data-bs-target="#remo-sync" type="button">Remo Sync</button>
  </li>
</ul>
<div class="tab-content" id="mappingTabContent">
	  <div class="tab-pane fade show active" id="bi-sync">
		<form id="biForm" class="row g-3 mb-3">
		  <div class="col-md-6">
			 <div class="col-12">
              <button class="btn btn-primary">Sync data</button>
            </div>
		  </div>
		  <br>
		  <!-- Table initially hidden -->
  <div class="row" id="resultTableBI" style="">
    <div class="col-12">
      <table class="table table-bordered">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Data Sync Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Data sync with BI application is Completed<span class="badge bg-success">Completed</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
		</form>
	   
	  </div>
	<div class="tab-pane fade" id="cmm-sync">
		<form id="cmmForm" class="row g-3 mb-3">
		  <div class="col-md-6">
			 <div class="col-12">
              <button class="btn btn-primary">Sync data</button>
            </div>
		  </div>
		  <br>
		  <!-- Table initially hidden -->
  <div class="row" id="resultTableCMM" style="">
    <div class="col-12">
      <table class="table table-bordered">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Data Sync Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Data sync with CMM application is Completed<span class="badge bg-success">Completed</span></td>
          </tr>
          
        </tbody>
      </table>
    </div>
  </div>
		</form>
	   
	  </div>
	  <div class="tab-pane fade" id="collect-sync">
		<form id="sapForm" class="row g-3 mb-3">
		  <div class="col-md-6">
			 <div class="col-12">
              <button class="btn btn-primary">Sync data</button>
            </div>
		  </div>
		  <br>
		  <!-- Table initially hidden -->
  <div class="row" id="resultTableCollect" style="">
    <div class="col-12">
      <table class="table table-bordered">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Data Sync Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Data sync with Buddy collect application is not Completed<span class="badge bg-danger">Not Completed</span></td>
          </tr>
          
        </tbody>
      </table>
    </div>
  </div>
		</form>
	   
	  </div>
	  <div class="tab-pane fade" id="remo-sync">
		<form id="collectForm" class="row g-3 mb-3">
		  <div class="col-md-6">
			  <div class="col-12">
              <button class="btn btn-primary">Sync data</button>
            </div>
		  </div>
		   <br>
		  <!-- Table initially hidden -->
  <div class="row" id="resultTableCollect" style="">
    <div class="col-12">
      <table class="table table-bordered">
        <thead class="table-dark">
          <tr>
            <th>#</th>
            <th>Data Sync Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Data sync with Remo application is not Completed<span class="badge bg-warning">Pending</span></td>
          </tr>
          
        </tbody>
      </table>
    </div>
  </div>
		</form>
	   
	  </div>
</div>
`;
  const performanceTabContent = `
      <ul class="nav nav-tabs mb-3" id="performanceTabs" role="tablist">
	  <li class="nav-item" role="presentation">
          <button class="nav-link active" id="primary-tab" data-bs-toggle="tab" data-bs-target="#primary" type="button" role="tab">Employee Info</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="secondary-tab" data-bs-toggle="tab" data-bs-target="#secondary" type="button" role="tab">Performance Review</button>
        </li>
       
      </ul>
	  
      <div class="tab-content" id="performanceTabContent">
	  <!-- Employee Info -->
	<div class="container py-4 tab-pane fade show active" id="primary" role="tabpanel">
    <div class="row g-3 mb-4">
		<div>
		 <label for="info" class="form-label">Department base immediate reporting employee shown here</label>
		</div> 
      <!-- Employee Tile 1 -->
      <div class="col-md-3">
		  <div class="card employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" 
			   title="Name: AS149-Ravi| Role: IT Programmer| KRA: 3">
			<div class="employee-name mb-1">AS149-Ravi</div>
			<div class="employee-role mb-1">IT Programmer</div>
			<div class="employee-dept">Assigned KRA: <span class="badge bg-primary">3</span>
			</div>
			<a href="#" class="stretched-link"></a>
		  </div>
		</div>
      <!-- Employee Tile 2 -->
      <div class="col-md-3">
        <div class="card employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" 
			   title="Name: AS232-Raman| Role: IT Sr.Programmer| KRA: 4">
			<div class="employee-name mb-1">AS232-Raman</div>
			<div class="employee-role mb-1">IT Sr.Programmer</div>
			<div class="employee-dept">Assigned KRA: <span class="badge bg-primary">4</span>
			</div>
			<a href="#" class="stretched-link"></a>
		</div>
      </div>

      <!-- Employee Tile 3 -->
      <div class="col-md-3">
        <div class="card employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" 
			   title="Name:AS768-Kamal| Role: IT Programmer Analyst| KRA: 2">
			<div class="employee-name mb-1">AS768-Kamal</div>
			<div class="employee-role mb-1">IT Programmer Analyst</div>
			<div class="employee-dept">Assigned KRA: <span class="badge bg-primary">2</span>
			</div>
			<a href="#" class="stretched-link"></a>
		</div>
      </div>

      <!-- Employee Tile 4 -->
      <div class="col-md-3">
        <div class="card employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top" 
			   title="Name:AS980-Kavya| Role: IT Programmer Analyst| KRA: 3">
			<div class="employee-name mb-1">AS980-Kavya</div>
			<div class="employee-role mb-1">IT Programmer</div>
			<div class="employee-dept">Assigned KRA: <span class="badge bg-primary">3</span>
			</div>
			<a href="#" class="stretched-link"></a>
		</div>
      </div>

    </div>
  </div>
	  
		<!-- Performance Review -->
        <div class="tab-pane fade show" id="secondary" role="tabpanel">
          <form class="row g-3 mb-4">
            <div class="col-12">
              <div class="row mb-3">
        
        <div class="col-md-3">
          <label for="employeeName" class="form-label">Employee Name</label>
          <input type="text" class="form-control" id="employeeName" placeholder="AS149-Ravi" disabled />
        </div>
        
		<div class="col-md-3">
          <label class="form-label">Overall Score</label>
          <input type="text" class="form-control" id="overallScore" readonly value="85.90%" />
        </div>
		<div class="col-md-3">
          <label for="reviewer" class="form-label">Reviewer</label>
          <input type="text" class="form-control" id="reviewer" placeholder="Immediate reporting" disabled />
        </div>
      </div>

     

      <table class="table table-bordered align-middle">
        <thead>
          <tr>
            <th>KRA</th>
            <th>Weight (%)</th>
            <th>Score (0100)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><small>Properly log hours in JIRA</small></td>
            <td><input type="number" class="form-control weight-input" min="0" max="100" value="14.00" /></td>
            <td><input type="number" class="form-control score-input" min="0" max="100" value="85.00" /></td>
          </tr>
          <tr>
            <td><small>Daily commit the source code in GIT</small></td>
            <td><input type="number" class="form-control weight-input" min="0" max="100" value="22.50" /></td>
            <td><input type="number" class="form-control score-input" min="0" max="100" value="90.00" /></td>
          </tr>
          <tr>
            <td><small>Maintain the codeing standard</small></td>
            <td><input type="number" class="form-control weight-input" min="0" max="100" value="30.50" /></td>
            <td><input type="number" class="form-control score-input" min="0" max="100" value="80.00" /></td>
          </tr>
          <tr>
            <td><small>skills upgraded in frequently</small></td>
            <td><input type="number" class="form-control weight-input" min="0" max="100" value="33.00" /></td>
            <td><input type="number" class="form-control score-input" min="0" max="100" value="88.00" /></td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th colspan="1" class="text-end">Total Weight:</th>
            <th><span id="totalWeight">100.00</span>%</th>
            <th><span id="finalWeightedScore">85.90</span></th>
          </tr>
        </tfoot>
      </table>
		<div class="mb-3">
        <label for="reviewerComments" class="form-label">Reviewer Comments</label>
        <textarea class="form-control" id="reviewerComments" rows="3"></textarea>
      </div>
      <!-- Calculate Button -->
      <div class="mb-3 d-flex justify-content-end">
        <button type="button" id="calculateBtn" class="btn btn-primary">Save</button>
      </div>

            </div>
          </form>
        </div>

        
      </div>
      `;
	  <!-- Report menu navigation -->
      const reportTabContent = `
      <ul class="nav nav-tabs mb-3" id="reportTabs" role="tablist">
	  <li class="nav-item" role="presentation">
          <button class="nav-link active" id="marketing-tab" data-bs-toggle="tab" data-bs-target="#markenting-group" type="button" role="tab">Marketing Incentive Report</button>
        </li> 
		<li class="nav-item" role="presentation">
          <button class="nav-link" id="ebitda-tab" data-bs-toggle="tab" data-bs-target="#ebitda-group" type="button" role="tab">EBITDA Report</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="kra-tab" data-bs-toggle="tab" data-bs-target="#kra-group" type="button" role="tab">KRA Report</button>
        </li>
		<li class="nav-item" role="presentation">
          <button class="nav-link" id="incentive-tab" data-bs-toggle="tab" data-bs-target="#incentive-group" type="button" role="tab">Incentive Report</button>
        </li>
		<li class="nav-item" role="presentation">
          <button class="nav-link" id="performance-tab" data-bs-toggle="tab" data-bs-target="#performance-group" type="button" role="tab">Performance score Report</button>
        </li>
      </ul>
	  <!-- Deviation group report -->
	  <div class="tab-content mt-2">
	<div class="container py-4 tab-pane fade show active" id="markenting-group" role="tabpanel">
	 <div class="row g-3 mb-4">
      <!-- Marketing tile -->
      <div class="col-md-3">
		  <div class="employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top">
			<!-- Card Header -->
    <div class="employee-head mb-2 fw-bold">Incentive Process</div>

    <!-- Role Selector -->
    <div class="employee-role mb-2">
        Role:
        <select id="role" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
            <option value="BD">BD</option>
            <option value="CSE">CSE</option>
        </select>
    </div>
    <!-- Year Selector -->
    <div class="employee-year mb-2">
        Year:
        <select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
            <option value="2024">2024</option>
            <option value="2025">2025</option>
        </select>
    </div>
    <!-- Excel Export -->
    <div class="employee-export mt-2">Export
		<a href="#" class="excel-icon" title="Export to Excel">
			<i class="fas fa-file-excel fa-2x text-success"></i>
		</a>
	</div>
		  </div>
		</div>
      
     </div>
    </div>
	<div class="container py-4 tab-pane fade show" id="ebitda-group" role="tabpanel">
	 <div class="row g-3 mb-4">
      <!-- Employee Tile 1 -->
      <div class="col-md-3">
				<div class="employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top">
						<!-- Card Header -->
				<div class="employee-head mb-2 fw-bold">Department Allocation</div>

				<!-- Year Selector -->
				<div class="employee-year mb-2">
					Year:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="2024">2024</option>
						<option value="2025">2025</option>
					</select>
				</div>
				<!-- Excel Export -->
				<div class="employee-export mt-2">Export
					<a href="#" class="excel-icon" title="Export to Excel">
						<i class="fas fa-file-excel fa-2x text-success"></i>
					</a>
				</div>
			</div>
	  </div>
	  <div class="col-md-3">
				<div class="employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top">
						<!-- Card Header -->
				<div class="employee-head mb-2 fw-bold">Department Amount Deviation</div>

				<!-- Year Selector -->
				<div class="employee-year mb-2">
					Year:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="2024">2024</option>
						<option value="2025">2025</option>
					</select>
				</div>
				<!-- Excel Export -->
				<div class="employee-export mt-2">Export
					<a href="#" class="excel-icon" title="Export to Excel">
						<i class="fas fa-file-excel fa-2x text-success"></i>
					</a>
				</div>
			</div>
	  </div>
      
     </div>
    </div>
	<div class="container py-4 tab-pane fade show" id="kra-group" role="tabpanel">
	 <div class="row g-3 mb-4">
	<div class="col-md-3">
	<!-- department wise KRA -->
			<div class="employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top">
						<!-- Card Header -->
				<div class="employee-head mb-2 fw-bold">Department wise KRA</div>
				<div class="employee-year mb-2">
					Department:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="it">IT</option>
						<option value="fin">Finance</option>
					</select>
				</div>
				<!-- Year Selector -->
				<div class="employee-year mb-2">
					Year:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="2024">2024</option>
						<option value="2025">2025</option>
					</select>
				</div>
				<!-- Excel Export -->
				<div class="employee-export mt-2">Export
					<a href="#" class="excel-icon" title="Export to Excel">
						<i class="fas fa-file-excel fa-2x text-success"></i>
					</a>
				</div>
			</div>
	</div>
	<div class="col-md-3">
			<!-- KRA Mapped Employee-->
				<div class="employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top">
						<!-- Card Header -->
				<div class="employee-head mb-2 fw-bold">KRA Mapped Employee</div>
				<div class="employee-year mb-2">
					Department:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="it">IT</option>
						<option value="fin">Finance</option>
					</select>
				</div>
				<!-- Year Selector -->
				<div class="employee-year mb-2">
					Year:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="2024">2024</option>
						<option value="2025">2025</option>
					</select>
				</div>
				<!-- Excel Export -->
				<div class="employee-export mt-2">Export
					<a href="#" class="excel-icon" title="Export to Excel">
						<i class="fas fa-file-excel fa-2x text-success"></i>
					</a>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<!-- KRA unmapped Employee -->
			<div class="employee-tile p-3 border rounded shadow-sm" data-bs-toggle="tooltip" data-bs-html="true" data-bs-placement="top">
						<!-- Card Header -->
				<div class="employee-head mb-2 fw-bold">KRA Un-Mapped Employee</div>
				<div class="employee-year mb-2">
					Department:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="it">IT</option>
						<option value="fin">Finance</option>
					</select>
				</div>
				<!-- Year Selector -->
				<div class="employee-year mb-2">
					Year:
					<select id="year" class="form-select form-select-sm d-inline-block" style="max-width: 120px;">
						<option value="2024">2024</option>
						<option value="2025">2025</option>
					</select>
				</div>
				<!-- Excel Export -->
				<div class="employee-export mt-2">Export
					<a href="#" class="excel-icon" title="Export to Excel">
						<i class="fas fa-file-excel fa-2x text-success"></i>
					</a>
				</div>
			</div>
		</div>
	  </div>	
            
     </div>
    </div>
      `;
	  
	  <!-- Process menu navigation -->
	  const process = `
	  <ul class="nav nav-tabs mb-3" id="processTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="incentiv-process-tab" data-bs-toggle="tab" data-bs-target="#incentiv-process" type="button" role="tab">Incentive Process</button>
        </li>
		<li class="nav-item" role="presentation">
          <button class="nav-link" id="incentiv-adjustment-tab" data-bs-toggle="tab" data-bs-target="#incentiv-adjustment" type="button" role="tab">Incentive Adjustment</button>
        </li>       
    </ul>  
	
      <div class="tab-content">
  <div class="tab-pane fade show active" id="incentiv-process" role="tabpanel" aria-labelledby="incentiv-process-tab">

    <!-- First row: Department dropdown + Process button -->
    <div class="d-flex align-items-center mb-2">
      <select id="departmentSelect" class="form-select w-auto me-2" aria-label="Select Department">
        <option value="">Select Department</option>
        <option value="IT">IT</option>
        <option value="HR">HR</option>
        <option value="Finance">Finance</option>
      </select>

      <button id="processBtn" class="btn btn-primary" disabled>Process</button>
      <label for="departmentSelect" class="ms-2 mb-0">
        <!-- Tooltip icon -->
      <i class="bi bi-info-circle text-info" data-bs-toggle="tooltip" data-bs-placement="right" title="All data ready for process"></i>
    </label>
    </div>
   
    <!-- Process count info above right of grid -->
    <div class="d-flex justify-content-end mb-1">
      <div class="badge bg-info me-2">2/5 members processed</div>
    </div>

    <!-- Grid -->
	 
    <div class="table-responsive">
    <table class="table table-striped table-bordered table-hover align-middle">
  <thead class="table-dark">
    <tr>
      <th>Employee</th>
      <th>Department</th>			
      <th>Achieved</th>
      <th>Processed Amount</th>
      <th>Status</th> 
    </tr>
  </thead>
  <tbody>
    <tr>
		<td>AS149-John Doe</td>
		<td>IT</td>
		<td>85</td>
		<td>1000.00</td>
		<td>
		<div class="progress border border-success rounded" style="height: 20px;">
          <div class="progress-bar bg-success" role="progressbar" style="width: 100%;" 
               aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">100%
          </div>
		 </div>
		</td>
	</tr>
    <tr><td>A789-Jane Smith</td><td>HR</td><td>78</td><td>900.00</td>
		<td>
		<div class="progress border border-success rounded" style="height: 20px;">
          <div class="progress-bar bg-success" role="progressbar" style="width: 100%;" 
               aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">100%
          </div>
		 </div>
		</td>
	</tr>
    <tr><td>9876-Mike Johnson</td><td>Finance</td><td>72</td><td>0.00</td>
		<td>
		<div class="progress border border-inprogress rounded" style="height: 20px;">
          <div class="progress-bar bg-inprogress" role="progressbar" style="width: 40%;" 
               aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">40%
          </div>
		 </div>
		</td>
	</tr>
    <tr><td>AS487-Emily Davis</td><td>IT</td><td>85</td><td>0.00</td>
		<td>
		<div class="progress border border-inprogress rounded" style="height: 20px;">
          <div class="progress-bar bg-inprogress" role="progressbar" style="width: 25%;" 
               aria-valuenow="40" aria-valuemin="0" aria-valuemax="100">25%
          </div>
		 </div>
		</td>
	</tr>
    <tr><td>A907-Chris Lee</td><td>HR</td><td>90</td><td>0.00</td>
		<td>
		<div class="progress border border-danger rounded" style="height: 20px;">
          <div class="progress-bar bg-danger" role="progressbar" style="width: 0%;" 
               aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%
          </div>
		 </div>
		</td>
	</tr>
  </tbody>
</table>

    </div>

  </div>
     
     
      <div class="tab-pane fade" id="incentiv-adjustment" role="tabpanel">
          <form class="row g-3 mb-4">            
            <div class="container mt-5">    
              <div class="row mb-4">
                <div class="col-md-4">        
                  <label for="adjustment_department" class="form-label">Choose Department</label>
                    <select id="adjustment_department" class="form-select" name="department">
                      <option value="" disabled="" selected="">Choose Department</option>
                      <option value="all">ALL</option>
                      <option value="it" selected>IT</option>
                      <option value="hr">Operation</option>
                      <option value="finance">Finance</option>
                     </select>
                </div>
                <div class="col-md-4">        
                  <label for="adjustment_role" class="form-label">Choose role</label>
                  <select id="adjustment_role" class="form-select" name="role">
                    <option value="" disabled="" selected="">Choose Role</option>
                    <option value="all">ALL</option>
                    <option value="manager" selected>Manager</option>
                    <option value="teamleader">Team Leader</option>
                    <option value="developer">Developer</option>
                  </select>
                </div>
              </div>
			<div class="d-flex justify-content-end mb-1">
				  <div class="badge bg-info me-2">2/4 members edited</div>
			</div>
              <!-- Data Table -->
              <div class="table-responsive">
              <table id="adjustmentTable" class="table table-hover align-middle table-bordered table-striped">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Department</th>
                    <th>Role</th>
                    <th>FY Year</th>
                    <th>Employee </th>
                    <th>Achieved</th>
                    <th>Incentive Amount</th>
                    <th>Adjustment</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>IT</td>
                    <td>Programmer</td>
                    <td>2024-2025</td>
                    <td>EMP001 - John Doe</td>
                    <td>95%</td>
                    <td>20,000.00</td>
                    <td>
                      <input type="text" class="form-control form-control-sm" value="22,800.00">
                    </td>
                    <td>
					  
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
						<i class="bi bi-pencil-square"></i>
					  </button>
					  <button class="btn btn-sm btn-outline-info" title="History">
						<i class="bi bi-clock-history"></i>
					  </button>
                    </td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>IT</td>
                    <td>Sr.Programmer</td>
                    <td>2024-2025</td>
                    <td>EMP002 - Jane Smith</td>
                    <td>90%</td>
                    <td>24,000.00</td>
                    <td>
                      <input type="text" class="form-control form-control-sm" value="0.00" disabled>
                    </td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
						<i class="bi bi-pencil-square"></i>
					  </button>
					  <button class="btn btn-sm btn-outline-info" title="History">
						<i class="bi bi-clock-history"></i>
					  </button>
                    </td>
                  </tr>
				  <tr>
                    <td>3</td>
                    <td>IT</td>
                    <td>Jr.Programmer</td>
                    <td>2024-2025</td>
                    <td>EMP005 - Rani</td>
                    <td>90%</td>
                    <td>14,000.00</td>
                    <td>
                      <input type="text" class="form-control form-control-sm" value="0.00" disabled>
                    </td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
						<i class="bi bi-pencil-square"></i>
					  </button>
					  <button class="btn btn-sm btn-outline-info" title="History">
						<i class="bi bi-clock-history"></i>
					  </button>
                    </td>
                  </tr>
				  <tr>
                    <td>4</td>
                    <td>IT</td>
                    <td>Sr.Programmer</td>
                    <td>2024-2025</td>
                    <td>EMP027 - Ravi</td>
                    <td>100%</td>
                    <td>30,000.00</td>
                    <td>
                      <input type="text" class="form-control form-control-sm" value="29,500.00">
                    </td>
                    <td>
                      <button class="btn btn-sm btn-outline-primary me-1" title="Edit">
						<i class="bi bi-pencil-square"></i>
					  </button>
					  <button class="btn btn-sm btn-outline-info" title="History">
						<i class="bi bi-clock-history"></i>
					  </button>
                    </td>
                  </tr>
                  <!-- Add more rows as needed -->
                </tbody>
              </table>
            </div>       
          </form>        
        </div>        
      </div>      
    </div>
	  `;
  const MailSettingContent = `
      <ul class="nav nav-tabs mb-3" id="performanceTabs1" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="mailTemplate-tab" data-bs-toggle="tab" data-bs-target="#mailTemplate" type="button" role="tab">Mail Template</button>
        </li>
        
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="departmentwise-tab" data-bs-toggle="tab" data-bs-target="#departmentwise" type="button" role="tab">Departmentwise Mapping</button>
        </li>   
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="reminderMail-tab" data-bs-toggle="tab" data-bs-target="#reminderMail" type="button" role="tab">Reminder & alert Mail</button>
        </li>   
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="mailConfig-tab" data-bs-toggle="tab" data-bs-target="#mailConfig" type="button" role="tab">Mail Configuration</button>
        </li>      
      </ul>
      <div class="tab-content" id="MailSettingContent">
        <div class="tab-pane fade show active" id="mailTemplate" role="tabpanel">
          <form class="row g-3 mb-4">
            <div class="col-md-6">
              <div class="section-title">Mail Template</div>
            </div>
            <div class="col-12">
              <div class="mb-3">
        <label for="templateSelect" class="form-label">Select Template</label>
        <select class="form-select" id="templateSelect" aria-label="Select Template">
          <option selected>Choose...</option>
          <option value="processing">Processing</option>
          <option value="reward">Reward</option>
          <option value="approval">Approval</option>
          <!-- Add more options as needed -->
        </select>
      </div>

      <!-- Template Editor -->
      <div class="mb-3">
        <label for="templateEditor" class="form-label">Template Editor</label>
        <textarea class="form-control" id="templateEditor" rows="1" placeholder="Enter your template HTML or rich text here..."></textarea>
      </div>

      <!-- Upload New Template -->
      <div class="mb-3">
        <label for="uploadTemplate" class="form-label">Upload New Template</label>
        <input class="form-control" type="file" id="uploadTemplate" accept=".html,.htm,.txt" />
      </div>

      <!-- Buttons -->
      <div class="d-flex gap-2">
        <button type="button" class="btn btn-secondary" id="previewBtn">Preview</button>
        <button type="submit" class="btn btn-primary" id="saveBtn">Save</button>
      </div>
              </div>
          </form>
           
        </div>

        <div class="tab-pane fade" id="departmentwise" role="tabpanel">
          <form class="row g-3 mb-4">
            <div class="section-title">Departmentwise Mapping</div>
            <div class="col-12">
                    <div class="mb-3">
            <label for="fromName" class="form-label">Default From Name</label>
            <input type="text" class="form-control" id="fromName" placeholder="Enter default sender name" />
          </div>

          <!-- Default From Email -->
          <div class="mb-3">
            <label for="fromEmail" class="form-label">Default From Email</label>
            <input type="email" class="form-control" id="fromEmail" placeholder="Enter default sender email" />
          </div>

          <!-- Reply-To Email -->
          <div class="mb-3">
            <label for="replyToEmail" class="form-label">Reply-To Email</label>
            <input type="email" class="form-control" id="replyToEmail" placeholder="Enter reply-to email" />
          </div>

          <!-- BCC Email (optional) -->
          <div class="mb-3">
            <label for="bccEmail" class="form-label">BCC Email (optional)</label>
            <input type="email" class="form-control" id="bccEmail" placeholder="Enter BCC email (optional)" />
          </div>

          <!-- Enable Per-Department Sender -->
          <div class="form-check form-switch mb-3">
            <input class="form-check-input" type="checkbox" id="enablePerDeptSender" />
            <label class="form-check-label" for="enablePerDeptSender">
              Enable Per-Department Sender?
            </label>
          </div>

          <!-- Department-Specific Sender Settings Table -->
          <div id="departmentSenderSettings" class="d-none">
            <div class="mb-3">
              <label for="departmentSelect" class="form-label">Select Department</label>
              <select class="form-select" id="departmentSelect">
                <option selected disabled>Choose Department...</option>
                <option value="processing">Processing</option>
                <option value="reward">Reward</option>
                <option value="approval">Approval</option>
                <!-- Add more as needed -->
              </select>
            </div>

            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Department</th>
                  <th>From Name</th>
                  <th>From Email</th>
                  <th>Reply-To Email</th>
                  <th>BCC Email (optional)</th>
                </tr>
              </thead>
              <tbody id="deptSenderTableBody">
                <!-- Rows get added dynamically -->
              </tbody>
            </table>
          </div>

          <!-- Save Button -->
          <button type="submit" class="btn btn-primary">Save</button>

            </div>
          </form>
         
        </div>

        <div class="tab-pane fade" id="reminderMail" role="tabpanel">
          <form class="row g-3 mb-4">
            <div class="col-md-6">
              <div class="section-title">Reminder and alert mails</div>
            </div>
            <div class="col-12">
               <!-- Enable Reminder Emails -->
              <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" id="enableReminderEmails" checked />
                <label class="form-check-label" for="enableReminderEmails">Enable Reminder Emails</label>
              </div>
            
              <!-- Reminder Interval (Days) -->
              <div class="mb-3">
                <label for="reminderInterval" class="form-label">Reminder Interval (Days)</label>
                <input type="number" class="form-control" id="reminderInterval" min="1" placeholder="Enter days interval" />
              </div>
            
              <!-- Max Reminder Attempts -->
              <div class="mb-3">
                <label for="maxAttempts" class="form-label">Max Reminder Attempts</label>
                <input type="number" class="form-control" id="maxAttempts" min="1" placeholder="Enter max attempts" />
              </div>
            
              <!-- Time of Day to Send -->
              <div class="mb-3">
                <label for="timeOfDay" class="form-label">Time of Day to Send</label>
                <input type="time" class="form-control" id="timeOfDay" />
              </div>
            
              <!-- Exclude Weekends -->
              <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" id="excludeWeekends" />
                <label class="form-check-label" for="excludeWeekends">Exclude Weekends</label>
              </div>
            
              <!-- Alert on Inactivity (Days) -->
              <div class="mb-3">
                <label for="alertOnInactivity" class="form-label">Alert on Inactivity (Days)</label>
                <input type="number" class="form-control" id="alertOnInactivity" min="1" placeholder="Enter days" />
              </div>
            
              <!-- Alert Recipients -->
              <div class="mb-3">
                <label for="alertRecipients" class="form-label">Alert Recipients</label>
                <input type="text" class="form-control" id="alertRecipients" placeholder="Enter alert recipients (comma separated or multi-select)" />
              </div>
            
              <!-- Add Custom Alert Rule Button -->
              <button type="button" class="btn btn-outline-primary" id="addAlertRuleBtn">Add Custom Alert Rule</button>
    
            </div>
          </form>
          
        </div>



        <div class="tab-pane fade" id="mailConfig" role="tabpanel">
          <form class="row g-3 mb-4">
            <div class="col-md-6">
              <div class="section-title">Mail Configuration</div>
            </div>
            <div class="col-12">
              <!-- SMTP Host -->
      <div class="mb-3">
        <label for="smtpHost" class="form-label">SMTP Host</label>
        <input type="text" class="form-control" id="smtpHost" placeholder="Enter SMTP host" />
      </div>

      <!-- SMTP Port -->
      <div class="mb-3">
        <label for="smtpPort" class="form-label">SMTP Port</label>
        <input type="number" class="form-control" id="smtpPort" placeholder="Enter SMTP port" />
      </div>

      <!-- Encryption -->
      <div class="mb-3">
        <label for="encryption" class="form-label">Encryption</label>
        <select class="form-select" id="encryption">
          <option value="none" selected>None</option>
          <option value="ssl">SSL</option>
          <option value="tls">TLS</option>
        </select>
      </div>

      <!-- Requires Authentication -->
      <div class="form-check form-switch mb-3">
        <input class="form-check-input" type="checkbox" id="requiresAuth" />
        <label class="form-check-label" for="requiresAuth">Requires Authentication</label>
      </div>

      <!-- Username -->
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" class="form-control" id="username" placeholder="Enter username" />
      </div>

      <!-- Password with Show/Hide toggle -->
      <div class="mb-3 position-relative">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password" placeholder="Enter password" />
        <!-- <button type="button" class="btn btn-outline-secondary btn-sm position-absolute top-50 end-0 translate-middle-y me-2" id="togglePassword"> -->
          
        <!-- </button> -->
      </div>

      <!-- Test Connection Button -->
      <button type="button" class="btn btn-primary" id="testConnectionBtn">Test Connection</button>
   
            </div>
          </form>
          
        </div>


      </div>
      `;
 
    const contentTitle = document.getElementById("contentTitle");
    const dynamicContent = document.getElementById("dynamicContent");
    const sidebarAccordion = document.getElementById("sidebarAccordion");

    // Listen to Masters and Settings accordion button clicks
    sidebarAccordion.querySelectorAll("button[data-menu]").forEach((btn) => {
      btn.addEventListener("click", function () {
        const menu = this.getAttribute("data-menu");
        if (menu === "masters") {
          contentTitle.textContent = "Masters";
          dynamicContent.innerHTML = mastersTabsContent;
        } else if (menu === "settings") {
          contentTitle.textContent = "Settings";
          dynamicContent.innerHTML = settingsTabsContent;
        }
		 if(key==="mapping") attachMappingLogic();
		 if(key==="bulk") attachBulkLogic();
      });
    });

    // Sidebar main nav non-accordion links
    document.querySelectorAll('.sidebar ul.nav.flex-column > li > a.nav-link').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        let key = item.getAttribute('data-content');
        contentTitle.textContent =
          key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1');
        dynamicContent.innerHTML = contentMap[key] || "<p>Coming Soon</p>";

        bootstrap.Collapse.getInstance(document.getElementById("collapseMasters"))?.hide();
        bootstrap.Collapse.getInstance(document.getElementById("collapseSettings"))?.hide();

        // If dashboard, load charts
        if (key === "dashboard") {
          setTimeout(initCharts, 50);
        }
		 
      });
    });

    // Map for non-accordion menus
    const contentMap = {
      dashboard: `
        <h5>Analytics</h5>
        <div class="row mb-4">
          <div class="col-md-6 mb-3">
            <canvas id="barChart"></canvas>
          </div>
          <div class="col-md-6 mb-3">
            <canvas id="pieChart"></canvas>
          </div>
          <div class="col-md-6 mb-3">
            <canvas id="lineChart"></canvas>
          </div>
          <div class="col-md-6 mb-3">
            <canvas id="doughnutChart"></canvas>
          </div>
        </div>

        <h5>Overview</h5>
        <div class="row">
          <div class="col-sm-4">
            <div class="card p-3 mb-3"><span class="fs-6">Policies</span><div class="display-6 fw-bold">8</div></div>
          </div>
          <div class="col-sm-4">
            <div class="card p-3 mb-3"><span class="fs-6">KRAs</span><div class="display-6 fw-bold">16</div></div>
          </div>
          <div class="col-sm-4">
            <div class="card p-3 mb-3"><span class="fs-6">Eligible Employees</span><div class="display-6 fw-bold">74</div></div>
          </div>
        </div>
      `,
  mapping: mappingTabsContent,
  
  master:mastersTabsContent,
  settings:settingsTabsContent,
  
  datasync:datasync,
  mail: MailSettingContent,
  process:process,
  review:performanceTabContent ,
  reports:reportTabContent
	    
    };

    function initCharts() {
      // Bar Chart
      new Chart(document.getElementById("barChart"), {
        type: "bar",
        data: {
          labels: ["Q1", "Q2", "Q3", "Q4"],
          datasets: [{
            label: "Revenue",
            data: [120, 150, 180, 200],
            backgroundColor: "#0d6efd"
          }]
        }
      });

      // Pie Chart
      new Chart(document.getElementById("pieChart"), {
        type: "pie",
        data: {
          labels: ["Policies", "KRAs", "Employees"],
          datasets: [{
            data: [8, 16, 74],
            backgroundColor: ["#0d6efd", "#198754", "#ffc107"]
          }]
        }
      });

      // Line Chart
      new Chart(document.getElementById("lineChart"), {
        type: "line",
        data: {
          labels: ["Jan", "Feb", "Mar", "Apr"],
          datasets: [{
            label: "Performance",
            data: [65, 75, 70, 85],
            borderColor: "#dc3545",
            fill: false,
            tension: 0.3
          }]
        }
      });

      // Doughnut Chart
      new Chart(document.getElementById("doughnutChart"), {
        type: "doughnut",
        data: {
          labels: ["Completed", "Pending", "In Progress"],
          datasets: [{
            data: [40, 20, 30],
            backgroundColor: ["#198754", "#ffc107", "#0dcaf0"]
          }]
        }
      });
    }
	
// Mapping Logic
function attachMappingLogic() {
  const deptTabs = document.getElementById('mappingTabs');
  const activeTab = deptTabs.querySelector('.nav-link.active');
  if (activeTab && activeTab.id === 'dept-mapping-tab') {
    attachDeptMappingLogic();
  }

  deptTabs.addEventListener('shown.bs.tab', function (e) {
    if (e.target.id === 'dept-mapping-tab') {
      attachDeptMappingLogic();
    }
  });

  const deptSelect = document.getElementById("departmentSelect");
  const kraInputDiv = document.getElementById("kraInputDiv");
  const kraForm = document.getElementById("kraForm");
  const kraTable = document.getElementById("kraTable").querySelector("tbody");

  deptSelect?.addEventListener("change", () => {
    kraInputDiv.classList.toggle("d-none", !deptSelect.value);
  });

  kraForm?.addEventListener("submit", e => {
    e.preventDefault();
    const kra = document.getElementById("kraInput").value;
    if(deptSelect.value && kra) {
      kraTable.insertAdjacentHTML("beforeend", `<tr><td>${deptSelect.value}</td><td>${kra}</td></tr>`);
      document.getElementById("kraTable").classList.remove("d-none");
      kraForm.reset(); kraInputDiv.classList.add("d-none");
    }
  });

  // Reviewer Mapping
  const reviewerDept = document.getElementById("reviewerDeptSelect");
  const reviewerCxo = document.getElementById("reviewerCxoSelect");
  const reviewerForm = document.getElementById("reviewerForm");
  const reviewerTable = document.getElementById("reviewerTable").querySelector("tbody");

  const cxos = { Sales:["CXO A","CXO B"], HR:["CXO C"], IT:["CXO D"], Finance:["CXO E"] };

  reviewerDept?.addEventListener("change", () => {
    reviewerCxo.innerHTML = `<option value="">-- Select CXO --</option>`;
    if(reviewerDept.value) cxos[reviewerDept.value].forEach(c=> reviewerCxo.insertAdjacentHTML("beforeend", `<option>${c}</option>`));
  });

  reviewerForm?.addEventListener("submit", e => {
    e.preventDefault();
    if(reviewerDept.value && reviewerCxo.value) {
      reviewerTable.insertAdjacentHTML("beforeend", `<tr><td>${reviewerDept.value}</td><td>${reviewerCxo.value}</td></tr>`);
      document.getElementById("reviewerTable").classList.remove("d-none");
      reviewerForm.reset();
    }
  });
}

// Department-wise Mapping Logic
function attachDeptMappingLogic() {
  const deptSelect = document.getElementById("deptEbitdaSelect");
  const ebitdaInput = document.getElementById("ebitdaInput");
  const ebitdaTableBody = document.getElementById("ebitdaTable").querySelector("tbody");
  
  const allDepartments = ["Sales", "HR", "IT", "Finance"];
  
  // Initial population of the table with 0%
  function resetTable() {
    ebitdaTableBody.innerHTML = '';
    allDepartments.forEach(dept => {
      const row = `<tr><td>${dept}</td><td>0%</td></tr>`;
      ebitdaTableBody.insertAdjacentHTML('beforeend', row);
    });
  }
  
  resetTable();
  
  deptSelect?.addEventListener("change", () => {
    ebitdaInput.disabled = !deptSelect.value;
    ebitdaInput.value = '';
    if (deptSelect.value) {
      const remainingDepts = allDepartments.filter(d => d !== deptSelect.value);
      const remainingPct = 100 / (remainingDepts.length + 1);
      
      ebitdaTableBody.innerHTML = '';
      allDepartments.forEach(dept => {
        const percentage = (dept === deptSelect.value) ? 0 : remainingPct;
        const row = `<tr><td>${dept}</td><td>${percentage.toFixed(2)}%</td></tr>`;
        ebitdaTableBody.insertAdjacentHTML('beforeend', row);
      });
    } else {
      resetTable();
    }
  });
  
  ebitdaInput?.addEventListener("input", () => {
    let enteredPct = parseFloat(ebitdaInput.value);
    
    if (isNaN(enteredPct) || enteredPct < 0) {
      enteredPct = 0;
    } else if (enteredPct > 100) {
      enteredPct = 100;
      ebitdaInput.value = 100;
    }
    
    const selectedDept = deptSelect.value;
    const remainingPct = 100 - enteredPct;
    const remainingDepts = allDepartments.filter(dept => dept !== selectedDept);
    const dividedPct = remainingDepts.length > 0 ? remainingPct / remainingDepts.length : 0;
    
    ebitdaTableBody.innerHTML = '';
    allDepartments.forEach(dept => {
      let percentage;
      if (dept === selectedDept) {
        percentage = enteredPct;
      } else {
        percentage = dividedPct;
      }
      const row = `<tr><td>${dept}</td><td>${percentage.toFixed(2)}%</td></tr>`;
      ebitdaTableBody.insertAdjacentHTML('beforeend', row);
    });
  });
}

// Bulk Logic
function attachBulkLogic() {
  document.querySelectorAll(".bulkForm").forEach(form => {
    const dropzone = form.querySelector(".dropzone");
    const fileInput = form.querySelector(".fileInput");
    const downloadTemplate = form.querySelector(".downloadTemplate");

    dropzone.addEventListener("click", () => fileInput.click());
    dropzone.addEventListener("dragover", e => { e.preventDefault(); dropzone.classList.add("dragover"); });
    dropzone.addEventListener("dragleave", () => dropzone.classList.remove("dragover"));
    dropzone.addEventListener("drop", e => { e.preventDefault(); dropzone.classList.remove("dragover"); fileInput.files = e.dataTransfer.files; });

    downloadTemplate.addEventListener("click", () => {
      const link = document.createElement("a"); link.href="template.xlsx"; link.download="Template.xlsx"; link.click();
    });

    form.addEventListener("submit", e => { e.preventDefault(); alert("File uploaded for department: "+form.querySelector(".bulkDeptSelect").value); form.reset(); });
  });
}
  </script>
   

</body>
</html>
